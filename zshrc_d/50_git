GIT_USERNAME='jordane'
alias gfr='git pull --rebase'
function git_current_branch() {
  git symbolic-ref HEAD 2> /dev/null | sed -e 's/refs\/heads\///'
}

function git_current_origin() {
  git config --get remote.origin.url | sed -e 's/^.*\://' | sed -e 's/\.git.*//'
}

function git_ref_origin() {
  git rev-parse origin
}

function git_ref_head() {
  git rev-parse HEAD
}

function gpthis() {
  git_branch=$(git_current_branch)
  if [ $git_branch = 'master']
  then
    echo "\nWon't merge branch master.\n"
  else
    git push origin HEAD:$git_branch
  fi
}

alias gpr='open "https://github.com/$(git_current_origin)/pull/new/$(git_current_branch)"'
#alias gpthis='git push origin HEAD:$(git_current_branch)'
alias gs='git status -sb'
alias gcompare='open "http://github.com/$(git_current_origin)/compare/$(git_ref_origin)...$(git_ref_head)"'
alias knife='nocorrect knife'
alias gpull='git pull origin $(git_current_branch)'
alias mpr='open "https://github.com/$(git_current_origin)/pulls/$GIT_USERNAME"'
